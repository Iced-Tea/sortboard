!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.sortboard=e()}(this,function(){"use strict";function t(t){void 0===t&&(t={});var e={};return Object.assign({on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){void 0===n&&(n=null),e[t]&&e[t].splice(e[t].indexOf(n),1)},emit:function(t,n){var i=this;void 0===n&&(n=[]),(e[t]||[]).map(function(t){t&&"function"==typeof t&&t.apply(i,n)})}},t)}function e(t){function e(e){if(void 0===e&&(e=""),e&&e!==u){var n=new RegExp(e,"i"),i=[];u=e;var r=d.filter(function(r){var o=r.getAttribute("data-cords");if(e===t.resetFilter)return a(r,o,!1),!0;var s=r.getAttribute("data-filter"),f=s&&s.match(n);return f||i.push(r),a(r,o,!f),f});l.emit("filter",[r,i,u]),r.length>0&&s()}}function o(){e(t.resetFilter)}function s(){var e=0,n=0,i=0,r=0,o=0,s=0,f=t.gutter,u=c.parentElement.offsetWidth;d.forEach(function(c){c.classList.contains(t.hiddenClass)||(r>=u-c.offsetHeight-f?(r=0,i+=c.offsetHeight+f,s||(s=e*c.offsetWidth+(e*f-f))):r+=e?f:0,e++,r+=c.offsetWidth,n=r-c.offsetWidth,o=i+c.offsetHeight,a(c,n+","+i,!1))});var h=e*u+(e<2?e:e-1)*f,p=s||h;c.style.width=p+"px",c.style.height=o+"px",l.emit("sort")}function f(){r.onResize(window,s)}function a(e,n,i){var r="matrix(1,0,0,1,"+n+") scale("+(i?"0.001":"1")+")";i?e.classList.add(t.hiddenClass):e.classList.remove(t.hiddenClass),e.setAttribute("data-cords",n),e.style.setProperty("opacity",i?"0":"1"),e.style.setProperty("-webkit-transform",r),e.style.setProperty("-moz-transform",r),e.style.setProperty("transform",r)}t=Object.assign(i,t||{});var c="string"==typeof t.container?r.child(document,t.container):t.container;if(c){var d=r.children(t.selector,c);if(d){t.hiddenClass=t.hiddenClass.replace(/^\./g,"");var l=n({filter:e,sort:s,reset:o,elements:d}),u="";return function(){f(),s()}(),l}}}var n=t,i={container:"",selector:"",hiddenClass:".hidden",resetFilter:"all",gutter:10},r={child:function(t,e){return t.querySelector(e)},children:function(t,e){return void 0===e&&(e=document),Array.prototype.slice.call(e.querySelectorAll(t))},onResize:function(t,e){t.addEventListener("resize",e,!1)}};return e});
//# sourceMappingURL=sortboard.min.js.map
